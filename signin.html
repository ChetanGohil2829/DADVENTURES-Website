<!doctype html><html lang="en"><head>

<meta name="description" content="Dadventures — hikes, camps, trails and community adventures for families.">
<meta property="og:site_name" content="Dadventures">
<meta property="og:type" content="website">
<meta property="og:title" content="Dadventures">
<meta property="og:description" content="Hikes, camps, trails and community adventures for families.">
<meta property="og:image" content="images/favicon-64.png">
<meta name="twitter:card" content="summary_large_image">
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "Dadventures",
  "url": "https://example.com",
  "logo": "https://example.com/images/favicon-64.png",
  "sameAs": [
    "https://facebook.com/dadventures",
    "https://instagram.com/dadventures",
    "https://tiktok.com/@dadventures"
  ]
}
</script>

<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>DADVENTURES — Sign In</title>
<link rel="stylesheet" href="css/style.css">
<script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>

<link rel="icon" href="images/favicon-32.png" sizes="32x32" type="image/png">
<link rel="icon" href="images/favicon-64.png" sizes="64x64" type="image/png">
<link rel="icon" href="images/favicon.ico" type="image/x-icon">
<link rel="apple-touch-icon" href="images/favicon-64.png">
</head><body>
<div class="container">
  <header style="display:flex;align-items:center;gap:12px">
    <img src="images/teepee-logo.svg" alt="Dadventures" width="48" height="48">
    <h1>Admin Sign In</h1>
  </header>
  <div id="auth">
    <button class="button" id="login">Sign In</button>
    <button class="button" id="logout" style="display:none">Sign Out</button>
  </div>
  <div id="admin-panel" style="display:none">
    <h2>Admin Tools</h2>
    <ul>
      <li><a href="admin/">Open CMS</a></li>
      <li><a href="debug.html">Open Debug Panel</a></li>
      <li><a href="control-panel.html">Open System Control Panel</a></li>
    </ul>
    <section>
      <h3>Quick Checks</h3>
      <div id="checks"></div>
    </section>
    <section id="debug-embedded" class="card" style="margin-top:16px">
      <h3>Debug Panel</h3>
      <div style="display:flex;gap:8px;flex-wrap:wrap">
        <button class="btn" id="btn-open">Open</button>
        <button class="btn" id="btn-close">Close</button>
        <button class="btn" id="btn-clear">Clear Logs</button>
        <button class="btn" id="btn-export">Export CSV</button>
        <button class="btn" id="btn-reset">Reset Content</button>
      </div>
      <div id="debug-status" style="margin-top:8px"></div>
      <pre id="debug-log" style="max-height:260px;overflow:auto;background:#0e0e12;border:1px solid #262626;border-radius:12px;padding:10px"></pre>
    </section>
    <script>
    (function(){
      function addLog(type,msg){
        const t = new Date().toISOString();
        const logEl = document.getElementById('debug-log');
        logEl.textContent += `[${t}] ${type}: ${msg}\n`;
        document.getElementById('debug-status').textContent = 'Last: '+t;
      }
      document.getElementById('btn-open').onclick=()=>addLog('INFO','Panel opened');
      document.getElementById('btn-close').onclick=()=>addLog('INFO','Panel closed');
      document.getElementById('btn-clear').onclick=()=>{ document.getElementById('debug-log').textContent=''; addLog('ACTION','Cleared'); };
      document.getElementById('btn-export').onclick=()=>{
        const csv = 'timestamp,type,message\n' + document.getElementById('debug-log').textContent.replace(/\n/g,'\n');
        const blob=new Blob([csv],{type:'text/csv'}); const a=document.createElement('a'); a.href=URL.createObjectURL(blob); a.download='debug-logs.csv'; a.click();
      };
      document.getElementById('btn-reset').onclick=()=>{ localStorage.clear(); addLog('ACTION','Local reset'); alert('Local content & theme reset. Reloading…'); location.reload(); };
      // Auto checks
      ['audio/relaxing-piano-ambient.wav','content/posts/posts.json','content/events/events.json','content/products/products.json','admin/config.yml']
        .forEach(u=>{ fetch(u).then(_=>addLog('CHECK',u+' OK')).catch(_=>addLog('ERROR',u+' FAIL')); });
    })();
    </script>
    
  </div>
</div>

<footer id="links-bar" class="links-bar">
  <nav class="links-nav">
    <a href="index.html">Home</a>
    <a href="about.html">About</a>
    <a href="events.html">Events</a>
    <a href="shop.html">Shop</a>
    <a href="donations.html">Donations</a>
    <a href="blog.html">Blog</a>
    <a href="join.html">Join Us</a>
    <a href="contact.html">Contact</a>
    <a href="signin.html">Sign In</a>
  </nav>
</footer>
<script src="js/identity.js"></script>
<script src="js/audio.js"></script>
<script src="js/theme.js"></script>
<script src="js/editor.js"></script>

<script src="js/identity.js"></script>
<script>
document.getElementById('login').onclick=function(){ netlifyIdentity.open(); }
document.getElementById('logout').onclick=function(){ netlifyIdentity.logout(); }
function render(){
  const user = netlifyIdentity.currentUser();
  document.getElementById('login').style.display = user? 'none':'inline-block';
  document.getElementById('logout').style.display = user? 'inline-block':'none';
  document.getElementById('admin-panel').style.display = user? 'block':'none';
  if(user){ runChecks(); }
}
netlifyIdentity.on('init', render);
netlifyIdentity.on('login', ()=>{ render(); netlifyIdentity.close(); });
netlifyIdentity.on('logout', render);
function runChecks(){
  const tests = [
    ['Audio file exists','audio/relaxing-piano-ambient.wav'],
    ['Events data exists','content/events/events.json'],
    ['Products data exists','content/products/products.json'],
    ['CMS config exists','admin/config.yml']
  ];
  const el = document.getElementById('checks'); el.innerHTML = '';
  tests.forEach(([name,url])=>{
    fetch(url).then(r=>{ el.innerHTML += `<div>✅ ${name} — OK (${new Date().toLocaleString()})</div>`; })
      .catch(_=>{ el.innerHTML += `<div>❌ ${name} — FAIL (${new Date().toLocaleString()})</div>`; });
  });
}
</script>

<footer class="site-footer">
  <div class="social-links">
    <a href="https://facebook.com/dadventures" target="_blank" rel="noopener">Facebook</a>
    <a href="https://instagram.com/dadventures" target="_blank" rel="noopener">Instagram</a>
    <a href="https://tiktok.com/@dadventures" target="_blank" rel="noopener">TikTok</a>
  </div>
  <p class="copyright">© Dadventures 2025 — All Rights Reserved</p>
</footer>

</body></html>