
<!doctype html><html lang="en"><head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Debug - DADVENTURES</title><link rel="stylesheet" href="css/style.css"/>
<link rel="icon" href="images/favicon-32.png" sizes="32x32" type="image/png">
<link rel="icon" href="images/favicon-64.png" sizes="64x64" type="image/png">
<link rel="icon" href="images/favicon.ico" type="image/x-icon">
<link rel="apple-touch-icon" href="images/favicon-64.png">
</head>
<body>
  
<header>
  <div class="inner">
    <div class="logo">
      <a href="index.html"><img src="./images/teepee-logo.svg" alt="Logo"/></a>
      <strong>DADVENTURES</strong>
    </div>
    <nav>
      <a href="index.html" class="navlink" data-nav="Home">Home</a>
      <a href="about.html" class="navlink" data-nav="About">About</a>
      <a href="events.html" class="navlink" data-nav="Events">Events</a>
      <a href="shop.html" class="navlink" data-nav="Shop">Shop</a>
      <a href="contact.html" class="navlink" data-nav="Contact">Contact</a>
      <a href="donations.html" class="navlink" data-nav="Donations">Donate</a>
      <a href="debug.html" class="navlink" data-nav="Debug">Debug</a>
    </nav>
    <div style="display:flex;align-items:center;gap:12px">
      <div class="time-now" id="timeNow"></div>
      <div class="volume-controls">
        <button id="globalPlayPause" class="btn" aria-label="Play or Pause music">Play</button>
        <input id="globalVol" type="range" min="0" max="1" step="0.01" value="0.4" aria-label="Music volume"/>
      </div>
      <audio id="globalMusic" src="audio/relaxing-piano-ambient.wav" preload="auto" muted loop></audio>
    </div>
  </div>
</header>
<script>
function updClock(){ var z=new Date(); document.getElementById('timeNow').textContent=z.toLocaleString(); }
setInterval(updClock,1000); updClock();
var gm=document.getElementById('globalMusic'), gp=document.getElementById('globalPlayPause'), gv=document.getElementById('globalVol');
gv.addEventListener('input', function(){ gm.volume = +gv.value; });
gp.addEventListener('click', async function(){ if(gm.paused){ try{ await gm.play(); gm.muted=false; }catch(e){} gp.textContent='Pause'; } else { gm.pause(); gp.textContent='Play'; } });
(async function(){ try{ await gm.play(); }catch(e){} })();
</script>

  <main class="container">
    <div class="card">
      <h2>Debug Log</h2>
      <div style="display:flex;gap:8px;margin-bottom:8px">
        <button class="btn" id="refresh">Refresh</button>
        <button class="btn" id="download">Download CSV</button>
        <button class="btn" id="clear">Clear</button>
        <button class="btn" id="close">Close</button>
      </div>
      <div class="card">
        <table id="tbl"><thead><tr><th>Time</th><th>Type</th><th>Data</th></tr></thead><tbody></tbody></table>
      </div>
      <small class="muted">Logs populate from: search, contact submit, open shop, view product, event modal open.</small>
    </div>
  </main>
  
<footer>
  <div class="inner">
    <div>Copyright 2025 DADVENTURE - Big & Little Adventures Together</div>
    <div><a href="https://facebook.com" target="_blank">Facebook</a> · <a href="https://instagram.com" target="_blank">Instagram</a></div>
  </div>
</footer>

  <script src="js/debug.js"></script>
  <script>document.querySelector('a[data-nav=Debug]').classList.add('active');</script>

<footer class="site-footer">
  <div class="social-links">
    <a href="https://facebook.com/dadventures" target="_blank" rel="noopener">Facebook</a>
    <a href="https://instagram.com/dadventures" target="_blank" rel="noopener">Instagram</a>
    <a href="https://tiktok.com/@dadventures" target="_blank" rel="noopener">TikTok</a>
  </div>
  <p class="copyright">© Dadventures 2025 — All Rights Reserved</p>
</footer>
<script src="js/identity.js"></script>
<script>
requireAdmin();
const logEl = document.getElementById('log') || (function(){const d=document.createElement('div');d.id='log';document.body.appendChild(d);return d;})();
const bar=document.createElement('div'); bar.className='grid'; bar.style.margin='16px 0';
bar.innerHTML = `<div style="display:flex;gap:8px;flex-wrap:wrap">
  <button class="btn" id="btn-open">Open</button>
  <button class="btn" id="btn-close">Close</button>
  <button class="btn" id="btn-clear">Clear Logs</button>
  <button class="btn" id="btn-export">Export CSV</button>
  <button class="btn" id="btn-reset">Reset Content</button></div>
  <div id="debug-status" style="margin-top:8px"></div>`;
document.body.insertBefore(bar, document.body.firstChild);
const state = { open:true, logs:[] };
function addLog(type,msg){
  const t = new Date().toISOString();
  state.logs.push([t,type,msg]);
  const row = document.createElement('div'); row.textContent = `[${t}] ${type}: ${msg}`; logEl.appendChild(row);
  document.getElementById('debug-status').textContent = 'Last event: '+t;
}
document.getElementById('btn-open').onclick=()=>{state.open=true; addLog('INFO','Panel opened');};
document.getElementById('btn-close').onclick=()=>{state.open=false; addLog('INFO','Panel closed');};
document.getElementById('btn-clear').onclick=()=>{state.logs=[]; logEl.innerHTML=''; addLog('ACTION','Logs cleared');};
document.getElementById('btn-export').onclick=()=>{ let csv='timestamp,type,message\n'; state.logs.forEach(r=>{csv+=r.join(',')+'\n';});
  const blob=new Blob([csv],{type:'text/csv'}); const a=document.createElement('a'); a.href=URL.createObjectURL(blob); a.download='debug-logs.csv'; a.click(); };
document.getElementById('btn-reset').onclick=()=>{ localStorage.clear(); addLog('ACTION','Local content/theme reset'); alert('Local content & theme reset. Reloading…'); location.reload(); };
['audio/relaxing-piano-ambient.wav','content/events/events.json','content/products/products.json'].forEach(u=>{ fetch(u).then(_=> addLog('CHECK', u+' OK')).catch(_=> addLog('ERROR', u+' FAIL')); });
</script>

<footer id="links-bar" class="links-bar">
  <nav class="links-nav">
    <a href="index.html">Home</a><a href="about.html">About</a><a href="events.html">Events</a>
    <a href="shop.html">Shop</a><a href="donations.html">Donations</a><a href="blog.html">Blog</a>
    <a href="join.html">Join Us</a><a href="contact.html">Contact</a><a href="signin.html">Sign In</a>
  </nav>
</footer>
<script src="js/identity.js"></script><script src="js/audio.js"></script><script src="js/theme.js"></script><script src="js/editor.js"></script>

</body></html>